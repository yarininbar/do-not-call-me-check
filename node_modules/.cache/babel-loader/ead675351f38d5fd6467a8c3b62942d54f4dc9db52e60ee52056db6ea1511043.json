{"ast":null,"code":"import { CredentialsModel } from \"../models/CredentialsModel\";\nexport class CredentialsState {\n  constructor() {\n    this.credentials = void 0;\n    const storedCredentials = localStorage.getItem('credentials');\n    if (storedCredentials) {\n      this.credentials = JSON.parse(storedCredentials);\n    } else {}\n  }\n}\nexport let AuthActionType;\n(function (AuthActionType) {\n  AuthActionType[\"Login\"] = \"Login\";\n  AuthActionType[\"Logout\"] = \"Logout\";\n})(AuthActionType || (AuthActionType = {}));\nexport function loginAction(credentials) {\n  return {\n    type: AuthActionType.Login,\n    payload: credentials\n  };\n}\nexport function logoutAction() {\n  return {\n    type: AuthActionType.Logout\n  };\n}\nexport function credentialsReducer() {\n  let currentState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new CredentialsState();\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const newState = {\n    ...currentState\n  };\n  switch (action.type) {\n    case AuthActionType.Login:\n      newState.credentials = action.payload;\n      localStorage.setItem(\"credentials\", JSON.stringify(newState.credentials));\n      break;\n    case AuthActionType.Logout:\n      newState.credentials = new CredentialsModel();\n      localStorage.removeItem(\"credentials\");\n      break;\n  }\n  return newState;\n}","map":{"version":3,"names":["CredentialsModel","CredentialsState","constructor","credentials","storedCredentials","localStorage","getItem","JSON","parse","AuthActionType","loginAction","type","Login","payload","logoutAction","Logout","credentialsReducer","currentState","action","newState","setItem","stringify","removeItem"],"sources":["/Users/yarin/Desktop/CallApp/front-end/src/redux/CredentialsState.ts"],"sourcesContent":["import { CredentialsModel } from \"../models/CredentialsModel\";\n\n\nexport class CredentialsState{\n    public credentials?:CredentialsModel;\n    \n    public constructor(){\n        const storedCredentials = (localStorage.getItem('credentials'));\n        if(storedCredentials) {\n            this.credentials =  JSON.parse(storedCredentials);\n        } else {\n\n        }\n    }\n}\n\nexport enum AuthActionType {\n\n    Login = \"Login\",\n    Logout = \"Logout\"\n}\n\nexport interface AuthAction {\n    type: AuthActionType;\n    payload?: any; \n}\n\n\n\nexport function loginAction(credentials: CredentialsModel): AuthAction {\n    return { type: AuthActionType.Login ,payload:credentials};\n}\n\nexport function logoutAction(): AuthAction {\n    return { type: AuthActionType.Logout};\n}\n\nexport function credentialsReducer(currentState: CredentialsState = new CredentialsState(),\n                            action:AuthAction): CredentialsState{\n\n    const newState = {...currentState} \n    switch(action.type){\n        case AuthActionType.Login:\n            newState.credentials = action.payload;\n            localStorage.setItem(\"credentials\",JSON.stringify(newState.credentials));\n            break;\n        case AuthActionType.Logout: \n            newState.credentials = new CredentialsModel();\n            localStorage.removeItem(\"credentials\");\n            break;\n            \n    }\n    return newState;\n    \n}"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,4BAA4B;AAG7D,OAAO,MAAMC,gBAAgB;EAGlBC,WAAW,GAAE;IAAA,KAFbC,WAAW;IAGd,MAAMC,iBAAiB,GAAIC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAE;IAC/D,IAAGF,iBAAiB,EAAE;MAClB,IAAI,CAACD,WAAW,GAAII,IAAI,CAACC,KAAK,CAACJ,iBAAiB,CAAC;IACrD,CAAC,MAAM,CAEP;EACJ;AACJ;AAEA,WAAYK,cAAc;AAIzB,WAJWA,cAAc;EAAdA,cAAc;EAAdA,cAAc;AAAA,GAAdA,cAAc,KAAdA,cAAc;AAa1B,OAAO,SAASC,WAAW,CAACP,WAA6B,EAAc;EACnE,OAAO;IAAEQ,IAAI,EAAEF,cAAc,CAACG,KAAK;IAAEC,OAAO,EAACV;EAAW,CAAC;AAC7D;AAEA,OAAO,SAASW,YAAY,GAAe;EACvC,OAAO;IAAEH,IAAI,EAAEF,cAAc,CAACM;EAAM,CAAC;AACzC;AAEA,OAAO,SAASC,kBAAkB,GAC8B;EAAA,IAD7BC,YAA8B,uEAAG,IAAIhB,gBAAgB,EAAE;EAAA,IAC9DiB,MAAiB;EAEzC,MAAMC,QAAQ,GAAG;IAAC,GAAGF;EAAY,CAAC;EAClC,QAAOC,MAAM,CAACP,IAAI;IACd,KAAKF,cAAc,CAACG,KAAK;MACrBO,QAAQ,CAAChB,WAAW,GAAGe,MAAM,CAACL,OAAO;MACrCR,YAAY,CAACe,OAAO,CAAC,aAAa,EAACb,IAAI,CAACc,SAAS,CAACF,QAAQ,CAAChB,WAAW,CAAC,CAAC;MACxE;IACJ,KAAKM,cAAc,CAACM,MAAM;MACtBI,QAAQ,CAAChB,WAAW,GAAG,IAAIH,gBAAgB,EAAE;MAC7CK,YAAY,CAACiB,UAAU,CAAC,aAAa,CAAC;MACtC;EAAM;EAGd,OAAOH,QAAQ;AAEnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}