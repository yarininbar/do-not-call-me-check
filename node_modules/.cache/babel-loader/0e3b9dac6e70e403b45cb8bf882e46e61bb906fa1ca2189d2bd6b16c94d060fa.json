{"ast":null,"code":"var _jsxFileName = \"/Users/yarin/Desktop/CallApp/front-end/src/components/layout/Main.tsx\",\n  _s = $RefreshSig$();\nimport { Button, Card, CardContent, Container, Dialog, TextField, Typography } from \"@mui/material\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport globals from \"../../services/Globals\";\nimport ResultDialog from \"../ResultDialog\";\nimport LoadingDialog from \"../LoadingDialog\";\nimport SetCredentials from \"../SetCredentials\";\nimport store from \"../../redux/Store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Main() {\n  _s();\n  const [open, setOpen] = useState(false);\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const [phone, setPhone] = useState(\"\");\n  const [result, setResult] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [userCredentials, SetUserCredentials] = useState(store.getState().credentialsReducer.credentials);\n  useEffect(() => {\n    const unsubscribe = store.subscribe(() => {\n      SetUserCredentials(store.getState().credentialsReducer.credentials);\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  const phoneQuery = async () => {\n    var _store$getState$crede, _store$getState$crede2;\n    const requestBody = {\n      \"phone\": phone,\n      \"token\": (_store$getState$crede = store.getState().credentialsReducer.credentials) === null || _store$getState$crede === void 0 ? void 0 : _store$getState$crede.token,\n      \"name\": (_store$getState$crede2 = store.getState().credentialsReducer.credentials) === null || _store$getState$crede2 === void 0 ? void 0 : _store$getState$crede2.identifier\n    };\n    if (phone.length >= 9 && phone.length <= 10 && phone.startsWith(\"0\")) {\n      setLoading(true);\n      axios.post(globals.urls.phoneQuery, requestBody).then(res => {\n        console.log(res.data);\n        setResult(res.data);\n        setOpen(true);\n        setLoading(false);\n      }).catch(reason => {\n        setLoading(false);\n      });\n    } else {\n      alert(\"מספר הטלפון שהזנת אינו תקין. המספר צריך להיות בין 9-10 ספרות בלבד ולהתחיל בספרה 0\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Main\",\n    children: [/*#__PURE__*/_jsxDEV(LoadingDialog, {\n      isLoading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      mb: 2,\n      align: \"center\",\n      variant: \"body1\",\n      gutterBottom: true,\n      children: [\"\\u05E9\\u05D9\\u05E8\\u05D5\\u05EA \\u05D6\\u05D4 \\u05DE\\u05D0\\u05E4\\u05E9\\u05E8 \\u05DC\\u05D1\\u05D3\\u05D5\\u05E7 \\u05D4\\u05D0\\u05DD \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF \\u05E8\\u05E9\\u05D5\\u05DD \\u05DC\\u05DE\\u05D0\\u05D2\\u05E8 \\u05F4\\u05D0\\u05DC \\u05EA\\u05EA\\u05E7\\u05E9\\u05E8 \\u05D0\\u05DC\\u05D9\\u05D9\\u05F4.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }, this), \"\\u05D4\\u05D5\\u05D0 \\u05E0\\u05D5\\u05E6\\u05E8 \\u05D1\\u05D4\\u05DE\\u05E9\\u05DA \\u05DC\\u05EA\\u05D9\\u05E7\\u05D5\\u05DF \\u05D4\\u05D7\\u05E7\\u05D9\\u05E7\\u05D4 \\u05DC\\u05D7\\u05D5\\u05E7 \\u05D4\\u05D2\\u05E0\\u05EA \\u05D4\\u05E6\\u05E8\\u05DB\\u05DF (\\u05EA\\u05D9\\u05E7\\u05D5\\u05DF \\u05DE\\u05E1' 61) \\u05DC\\u05D4\\u05D2\\u05D1\\u05DC\\u05EA \\u05E4\\u05E0\\u05D9\\u05D5\\u05EA \\u05E9\\u05D9\\u05D5\\u05D5\\u05E7\\u05D9\\u05D5\\u05EA.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }, this), \"\\u05E9\\u05D9\\u05E8\\u05D5\\u05EA \\u05D6\\u05D4 \\u05E0\\u05D5\\u05E6\\u05E8 \\u05D1\\u05D4\\u05EA\\u05E0\\u05D3\\u05D1\\u05D5\\u05EA, \\u05D5\\u05D0\\u05D9\\u05E0\\u05D5 \\u05DE\\u05EA\\u05D5\\u05D7\\u05D6\\u05E7 \\u05E2\\u05F4\\u05D9 \\u05D4\\u05E8\\u05E9\\u05D5\\u05EA \\u05DC\\u05E1\\u05D7\\u05E8 \\u05D4\\u05D5\\u05D2\\u05DF.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }, this), \"\\u05D9\\u05E9 \\u05DC\\u05D4\\u05E4\\u05E2\\u05D9\\u05DC \\u05E9\\u05D9\\u05E7\\u05D5\\u05DC \\u05D3\\u05E2\\u05EA \\u05D1\\u05E9\\u05D9\\u05DE\\u05D5\\u05E9 \\u05D1\\u05E9\\u05D9\\u05E8\\u05D5\\u05EA \\u05D6\\u05D4, \\u05D5\\u05D1\\u05DB\\u05DC \\u05DE\\u05E7\\u05E8\\u05D4, \\u05D4\\u05D0\\u05D7\\u05E8\\u05D9\\u05D5\\u05EA \\u05E2\\u05DC \\u05D4\\u05E9\\u05D9\\u05DE\\u05D5\\u05E9 \\u05D1\\u05E9\\u05D9\\u05E8\\u05D5\\u05EA \\u05D7\\u05DC\\u05D4 \\u05E2\\u05DC \\u05D4\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D1\\u05DC\\u05D1\\u05D3.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 1\n    }, this), !userCredentials && /*#__PURE__*/_jsxDEV(SetCredentials, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), userCredentials && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Dialog, {\n        open: open,\n        children: [/*#__PURE__*/_jsxDEV(ResultDialog, {\n          isOpen: open,\n          result: result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          children: \" \\u05D0\\u05D9\\u05E9\\u05D5\\u05E8 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"main-card\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          align: \"center\",\n          fontWeight: \"bold\",\n          mt: 5,\n          children: \"\\u05D4\\u05D6\\u05DF \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF \\u05DC\\u05D1\\u05D3\\u05D9\\u05E7\\u05D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          align: \"center\",\n          children: \"\\u05D9\\u05E9 \\u05DC\\u05D4\\u05D6\\u05D9\\u05DF \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF \\u05D1\\u05DF 9-10 \\u05E1\\u05E4\\u05E8\\u05D5\\u05EA, \\u05DC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            variant: \"outlined\",\n            placeholder: \"\\u05D4\\u05D6\\u05DF \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\",\n            type: \"phone\",\n            onChange: e => setPhone(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Container, {\n            style: {\n              padding: \"20px\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"app-button\",\n              variant: \"outlined\",\n              onClick: phoneQuery,\n              children: \"\\u05D1\\u05D3\\u05D9\\u05E7\\u05D4 \\u05D1\\u05DE\\u05D0\\u05D2\\u05E8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n_s(Main, \"iFiRmR1nhJpGkRBkqxXPdhw0uNs=\");\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["Button","Card","CardContent","Container","Dialog","TextField","Typography","axios","useEffect","useState","globals","ResultDialog","LoadingDialog","SetCredentials","store","Main","open","setOpen","handleClose","phone","setPhone","result","setResult","loading","setLoading","userCredentials","SetUserCredentials","getState","credentialsReducer","credentials","unsubscribe","subscribe","phoneQuery","requestBody","token","identifier","length","startsWith","post","urls","then","res","console","log","data","catch","reason","alert","e","target","value","padding","display","flexDirection","alignItems"],"sources":["/Users/yarin/Desktop/CallApp/front-end/src/components/layout/Main.tsx"],"sourcesContent":["import { Box, Button, Card, CardContent, Container, Dialog, TextField, Typography } from \"@mui/material\";\nimport axios, { AxiosError } from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport globals from \"../../services/Globals\";\nimport ResultDialog from \"../ResultDialog\";\nimport LoadingDialog from \"../LoadingDialog\";\nimport { CredentialsModel } from \"../../models/CredentialsModel\";\nimport SetCredentials from \"../SetCredentials\";\nimport store from \"../../redux/Store\";\n\n\n  \n  \nfunction Main(): JSX.Element {\n    const [open, setOpen] = useState(false);\n    \n    const handleClose = () => {\n      setOpen(false);\n    };  \n    \n\n\n    const [phone, setPhone] = useState<string>(\"\");\n    const [result, setResult] = useState<boolean>(false);\n    const [loading, setLoading] = useState<boolean>(false);\n\n    const [userCredentials, SetUserCredentials] = useState<CredentialsModel | undefined>(store.getState().credentialsReducer.credentials);\n\n\nuseEffect(() => {\n   \n\n    const unsubscribe = store.subscribe(() => {\n      SetUserCredentials(store.getState().credentialsReducer.credentials);\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n\n\n  \n    \n    const phoneQuery = async () => {\n\n      const requestBody = {\n        \"phone\": phone,\n        \"token\": store.getState().credentialsReducer.credentials?.token,\n        \"name\": store.getState().credentialsReducer.credentials?.identifier\n      };\n\n        if(phone.length >= 9 && phone.length <= 10 && phone.startsWith(\"0\")) {\n          setLoading(true);\n          axios.post<boolean>(globals.urls.phoneQuery, requestBody)\n         .then((res) => {\n          console.log(res.data);\n          setResult(res.data);\n          setOpen(true);\n          setLoading(false);\n  \n\n         })\n         .catch((reason: AxiosError) => {\n            setLoading(false);\n        })\n        } else {\n            alert(\"מספר הטלפון שהזנת אינו תקין. המספר צריך להיות בין 9-10 ספרות בלבד ולהתחיל בספרה 0\");\n        }\n    }\n\n\n    return (\n        <div className=\"Main\">  \n\n<LoadingDialog isLoading={loading} />\n\n<Typography mb={2} align=\"center\" variant=\"body1\" gutterBottom>\n              שירות זה מאפשר לבדוק האם מספר טלפון רשום למאגר ״אל תתקשר אליי״.\n              <br />\n              הוא נוצר בהמשך\n              לתיקון החקיקה לחוק הגנת הצרכן (תיקון מס' 61) להגבלת פניות שיווקיות.\n              <br />\n              שירות זה נוצר בהתנדבות, ואינו מתוחזק ע״י הרשות לסחר הוגן.\n              <br />\n              יש להפעיל שיקול דעת בשימוש בשירות זה, ובכל מקרה, האחריות על השימוש בשירות חלה על המשתמש בלבד.\n            </Typography>\n\n\n\n      {!userCredentials &&\n      <SetCredentials/>\n      }\n\n\n\n       {userCredentials &&\n     <>\n     <Dialog open={open}>\n            <ResultDialog isOpen={open} result={result} />\n            <Button\n              onClick={handleClose}> אישור </Button>\n          </Dialog>\n          \n          <Card className=\"main-card\">\n              <Typography align='center' fontWeight=\"bold\" mt={5}>\n                הזן מספר טלפון לבדיקה\n              </Typography>\n              <Typography align='center'>\n                יש להזין מספר טלפון בן 9-10 ספרות, ל\n              </Typography>\n\n              <CardContent>\n                <TextField\n                  fullWidth\n                  variant=\"outlined\"\n                  placeholder=\"הזן מספר טלפון\"\n                  type=\"phone\"\n                  onChange={e => (setPhone(e.target.value))} />\n                <Container style={{ padding: \"20px\", display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n                  <Button className=\"app-button\" variant=\"outlined\" onClick={phoneQuery}>בדיקה במאגר</Button>\n                </Container>\n              </CardContent>\n            </Card>\n            </>\n      \n       }\n        </div>\n    );\n\n    \n}\n\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}